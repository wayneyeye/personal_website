/*
 grunt-getting-started 2017-04-04 
*/

$(function(){var a=Backbone.Model.extend({defaults:{on:!1},toggle:function(){this.set("on",!this.get("on"))}}),b=[{img:"img/icons/email.png",url:"mailto:yewenhe0904@gmail.com?subject=Mail to Wenhe"},{img:"img/icons/linkedin.png",url:"https://www.linkedin.com/in/wayneyewenhe"},{img:"img/icons/home.png",url:"https://wayneyeye.github.io/personal_website"},{img:"img/icons/github.png",url:"https://github.com/wayneyeye"}],c='<div class="row side-bar-contact">';b.forEach(function(a){c=c+'<div class="col-xs-3 social"><a href='+a.url+' target="_blank"><img src="'+a.img+'"></a></div>'}),c+="</div>";var d=Backbone.View.extend({tagName:"div",className:"container side-bar",initialize:function(){this.body=$("body"),this.listenTo(g,"change",this.render),this.body.append(this.render().el);new f({model:g})},render:function(){sidebarHTML='<div class="row side-bar-title"><div class="col-xs-9"><h4>About Me</h4></div></div><div class="row side-bar-potrait"><div class="col-md-12"><img src="img/Wenhe.jpg" id="potrait-img"/></div></div>'+c+'<div class="row side-bar-content"><div class="col-md-12"><p>Hi, My name is <strong>Wenhe Ye</strong>...</p><p>My current location is <strong>Dallas, TX</strong></p></div></div><div class="row side-bar-subtitle"><div class="col-md-12"><h5>Interests</h5></div></div><div class="row side-bar-sublist"><div class="col-md-12"><ul><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li></ul></div></div>',this.$el.html(sidebarHTML);new f({model:g});return this.model.get("on")?this.$el.removeClass("hide"):this.$el.addClass("hide"),this}}),e=Backbone.View.extend({tagName:"div",className:"about-me-text",initialize:function(){this.div=$(".about-me"),this.div.append(this.render().el)},events:{click:"toggleSideBar"},render:function(){return this.$el.html('<a href="#">About Me</a>'),this},toggleSideBar:function(){this.model.toggle()}}),f=Backbone.View.extend({tagName:"div",className:"col-xs-3 HideButtn",initialize:function(){this.div=$(".side-bar-title"),this.div.append(this.render().el)},events:{click:"toggleSideBar"},render:function(){return this.$el.html('<img src="img/icons/goback.png"/>'),this},toggleSideBar:function(){this.model.toggle()}}),g=new a,h=(new d({model:g}),new e({model:g}),[{img:"img/heros/hero_slc.jpg",desc:"A Glance at the Salt Lake City"},{img:"img/heros/hero_chicago.jpg",desc:"A Birdview of Downtown Chicago and Lake Michigan"},{img:"img/heros/hero_grandcanyon.jpg",desc:"Grand Canyon National Park"},{img:"img/heros/hero_grandcanyon2.jpg",desc:"Grand Canyon on Road"},{img:"img/heros/hero_grandteton.jpg",desc:"Snow Mountain in Grand Teton National Park"},{img:"img/heros/hero_grandcanyon3.jpg",desc:"Grand Canyon and Colorado River at Navajo Bridge"},{img:"img/heros/hero_yellowstone.jpg",desc:"Yellowstone National Park"},{img:"img/heros/hero_pku.jpg",desc:"Weiming Lake at Peking University"}]),i=new Image,j=!0;i.onerror=function(){j=!1,console.log("error")},h.forEach(function(a){i.src=a.img}),j&&$(".hero-slide").addClass("load-success");var k=Backbone.Model.extend({defaults:{max:h.length,index:0},oneNext:function(){var a=this.get("index");a=a==this.get("max")-1?0:a+1,this.set("index",a)},oneBack:function(){var a=this.get("index"),b=this.get("max");a=0===a?b-1:a-1,this.set("index",a)}}),l=Backbone.View.extend({tagName:"div",className:"hero-banner",initialize:function(){primerHTML='<div class="row hero-row"><div class="col-md-12 hero"></div></div>',$(".hero-slide").append(primerHTML),this.slide=$(".hero"),this.listenTo(o,"change",this.render),heroLeadingHTML='<img class="img-hero" src="',heroTrailingHTML='"/>';var a="";a+='<img class="img-hero hero-placeholder" src="'+h[0].img+heroTrailingHTML,h.forEach(function(b){a=a+heroLeadingHTML+b.img+heroTrailingHTML}),this.slide.append(a),$(".hero").append(this.render().el);new m({model:o}),new n({model:o});setInterval(function(){$(".hero-right-arrow").click()},8e3)},render:function(){var a=this.model.get("index")+2,b=".img-hero:nth-child("+a+")";$(".img-hero").removeClass("unhide"),$(b).addClass("unhide"),this.$el.html("<div>"+h[this.model.get("index")].desc+"</div>");new m({model:o}),new n({model:o});return this}}),m=Backbone.View.extend({tagName:"div",className:"hero-left-arrow",initialize:function(){this.div=$(".hero-banner"),this.div.append(this.render().el)},events:{click:"toggleSlides"},render:function(){return this.$el.html('<img src="img/icons/left.png" />'),this},toggleSlides:function(){this.model.oneBack()}}),n=Backbone.View.extend({tagName:"div",className:"hero-right-arrow",initialize:function(){this.div=$(".hero-banner"),this.div.append(this.render().el)},events:{click:"toggleSlides"},render:function(){return this.$el.html('<img src="img/icons/right.png" />'),this},toggleSlides:function(){this.model.oneNext()}}),o=new k;new l({model:o})});